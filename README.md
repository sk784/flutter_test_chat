# flutter_test_chat
1. Провел рефакторинг проекта `chat_mobile`: сгруппировал файлы по подходящим директориям, удалил неиспользуемые виджеты, компоненты, файлы.
2. Расширил модель пользователя (в `chat_models`), чтобы она также содержала email и телефон.
3. На главном экране после логина сделал 2 таба: «`Пользователи`» и «`Чаты`». При первой загрузке появляется индикатор загрузки. При переходе между табами сохраняется состояние прокрутки. В карточках пользователя выводится емейл и имя, в круглой аватаре пользователя должны содержится первая буква из имени. По клику на карточку пользователя она выделяется и появляется Кнопка «`+`» по нажатию на которую создается чат с выбранными пользователями. На табе с чатами кнопки «`+`» нет.
4. На обоих вкладках сделал обновление списка через свайп сверху вниз, чтобы подгрузить новые данные, которые могли быть созданы за это время.
5. Сохраняю авторизационные данные (токен), чтобы при перезагрузке приложения не требовался повторный ввод логина/пароля.
6. Добавил в апп бар кнопку с иконкой, по нажатию на которую перенаправляю пользователя на экран с профилем, где он может добавить/изменить информацию о себе. Для почты и телефона валидируются значения перед отправкой на сервер.
7. Убрал `InheritedWidget`, вмсето этого использовал [Get It](https://pub.dev/packages/get_it)) для State Management и Dependency Injection. Везде, где счел возможным, ушел от Stateful Widget.
8. Везде, где нашел, устранил ошибки в методах Future -  в частности сделал так, чтобы код, который должен работать после выполнения метода, работал после него.

Примечание:
1. К сожалению,  не мне не удалось запустить Websocket. Пишет ошибку SocketException: OS Error: Connection refused, errno = 111, address = 127.0.0.1, port = 47376, хотя я все сделал так как было написано : запустил api-сервер - тут все прошло нормально - и запустил Mongodb я у себя на компьютере и проверил, что она работает. Сколько ни гуглил, не удалось выяснить причину, что я делал не так. Поэтому полноценно проверить правильность работы приложения мне не удалось.
2. Я еще не изучал тестирование во Flutter, поэтому не покрыл приложение тестами.  
